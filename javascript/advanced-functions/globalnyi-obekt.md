---
description: Глобальные переменные и функции
---

# Глобальный объект

Глобальный объект представляет собой переменные и функции, доступные в любом месте программы.

В браузере — `window`. В Node.js — `global`. Недавно `globalThis` был добавлен в язык как стандартизированное имя для глобального объекта, которое должно поддерживаться в любом окружении.

Ко всем свойствам глобального объекта можно обращаться напрямую:

{% code overflow="wrap" %}
```javascript
alert("Привет");
// это то же самое, что и
window.alert("Привет");
```
{% endcode %}

В браузере глобальные функции и переменные, объявленные с помощью `var` (не `let/const`!), становятся свойствами глобального объекта:

{% code overflow="wrap" %}
```javascript
var gVar = 5;

alert(window.gVar); // 5 (становится свойством глобального объекта)
```
{% endcode %}

Если бы мы объявили переменную при помощи `let`, то такого бы не произошло:

{% code overflow="wrap" %}
```javascript
let gLet = 5;

alert(window.gLet); // undefined (не становится свойством глобального объекта)
```
{% endcode %}

Если свойство настолько важное, что вы хотите сделать его доступным для всей программы, запишите его в глобальный объект напрямую:

{% code overflow="wrap" %}
```javascript
// сделать информацию о текущем пользователе глобальной, для предоставления доступа всем скриптам
window.currentUser = {
  name: "John"
};

// где угодно в коде
alert(currentUser.name); // John

// или, если у нас есть локальная переменная с именем "currentUser",
// получим её из window явно (безопасно!)
alert(window.currentUser.name); // John
```
{% endcode %}

## Полифилы

Глобальный объект можно использовать, чтобы проверить поддержку современных возможностей языка.

Например, проверить наличие встроенного объекта `Promise` (такая поддержка отсутствует в очень старых браузерах):

{% code overflow="wrap" %}
```javascript
if (!window.Promise) {
  alert("Ваш браузер очень старый!");
}
```
{% endcode %}

Если нет (скажем, используется старый браузер), мы можем создать полифил: добавить функции, которые не поддерживаются окружением, но существуют в современном стандарте.

{% code overflow="wrap" %}
```javascript
if (!window.Promise) {
  window.Promise = ... // собственная реализация современной возможности языка
}
```
{% endcode %}
