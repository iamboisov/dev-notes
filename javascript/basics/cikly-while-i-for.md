---
description: 'В этой статье рассматриваются только базовые циклы: while, do..while и for.'
---

# Циклы while и for

## Цикл `while`

Синтаксис:

```javascript
while (condition) {
  // также называемый "телом цикла"
}
```

Код из тела цикла выполняется, пока условие `condition` истинно. Выполнение останавливается, когда условие ложно.

Например, цикл ниже выводит `i`, пока `i < 3`:

{% code overflow="wrap" fullWidth="false" %}
```javascript
let i = 0;
while (i < 3) { // выводит 0, затем 1, затем 2
  console.log( i );
  i++;
}
```
{% endcode %}

{% hint style="info" %}
Одно выполнение тела цикла по-научному называется _итерация_.
{% endhint %}

Любое выражение или переменная может быть условием цикла. Условие `while` вычисляется и преобразуется в логическое значение.&#x20;

Например, `while (i)` – более краткий вариант `while (i != 0)`:

```javascript
let i = 3;
while (i) { // когда i будет равно 0, условие станет ложным, и цикл остановится
  alert( i );
  i--;
}
```

{% hint style="info" %}
Если тело цикла состоит из одной строки, то фигурные скобки не нужны

```javascript
let i = 3;
while (i) alert(i--);
```
{% endhint %}

## Цикл `doo..while`

Проверку условия можно разместить под телом цикла с помощью специальной конструкции `doo..while` .

```javascript
do {
  // тело цикла
} while (condition);
```

Сначала цикл выполнит тело, а уже после проверит условие. Если оно истинно, то выполнит следующую итерацию.

{% hint style="info" %}
Эта конструкция нужна, если вы хотите чтобы выполнилась хотя бы одна итерация даже если условие ложно.
{% endhint %}

## Цикл `for`

Синтаксис:

```
for ([начало]; [условие]; [шаг]) выражения
```

```javascript
for (condition) {
// тело цикла
}
```

```javascript
for (let i = 0; i < 3; i++) { // выведет 0, затем 1, затем 2
  console.log(i);
}
```

Вообще циклы `for` и `while` очень похожи и выполняют почти одно и то же. Однако стоит их применять при различных ситуациях, потому что преобразование одного цикла в другой сделает код менее читабельным. Что я имею ввиду:

```javascript
for (let x = 0; x <=10; x+=2) {
    console.log(x)
} // Более компактный код

// Преобразуем в цикл while
let a = 0;
while (a <= 10) {
    console.log(a)
    a+=2;
}
// Цикл с while уже сложнее читать
```

Можно и наоборот:

<pre class="language-javascript" data-overflow="wrap"><code class="lang-javascript">let a = true;
while (a) {
<strong>    console.log(a)
</strong>}

// Преобразуем в цикл for
let a = true;
for (; a == true;) { // Объявление переменной можно вывести за условие, поставив точку запятую
    console.log(a)
} // Цикл с for уже сложнее читать
</code></pre>

Все таки для улучшения читабельности кода надо использовать:

* `for` для кода с четкими границами по итерациям
* `while` если количество итераций неизвестно или стоит условие `true/false`.

Любая часть цикла `for` может быть пропущена.

```javascript
let i = 0; // мы уже имеем объявленную i с присвоенным значением

for (; i < 3; i++) { // нет необходимости в "начале"
  alert( i ); // 0, 1, 2
}
```

```javascript
let i = 0;

for (; i < 3;) {
  alert( i++ );
}
```

Это сделает цикл аналогичным `while (i < 3)`.

```javascript
for (;;) {
  // будет выполняться вечно
}
```

При этом сами точки с запятой `;` обязательно должны присутствовать, иначе будет ошибка синтаксиса.

## Прерывание цикла с помощью `break`

Можно прервать цикл в любой момент с помощью директивы `break`.

```javascript
let x = 0;
while (x < 5) {
if (x == 3) {
    break
} else {
  console.log(x)
  x++
}
} // В данном примере мы выходим из цикла, при x == 3
```

## Переход к следующей итерации с помощью `continue`

Директива `continue` — "облегченная версия" директивы `break`. Эта директива не завершает цикл, а просто переходит на следующую итерацию, если условие всё еще `true`.

Тот же самый пример:

<pre class="language-javascript"><code class="lang-javascript">let x = 0;
while (x &#x3C; 5) {
console.log(x)
x++
if (x == 2) {
<strong>    i++
</strong>    continue
}
} // В данном примере мы пропускаем итерацию цикла, при x == 2
</code></pre>

{% hint style="info" %}
С помощью данной директивы можно избежать вложенности.

```javascript
for (let i = 0; i < 10; i++) {

  // если true, пропустить оставшуюся часть тела цикла
  if (i % 2 == 0) continue;

  console.log(i); // 1, затем 3, 5, 7, 9
}
```
{% endhint %}

{% hint style="danger" %}
Директиву `break/continue` нельзя использовать справа от тернарного оператора `?`
{% endhint %}

## Метки для `break/continue`

Иногда есть необходимость выйти сразу из нескольких уровней цикла. Обычные директивы `break/continue` завершают только внутренний цикл, но этого недостаточно. Поэтому на помощь приходят метки.

```javascript
labelName: for (...) {
  ...
}
```

Пример:

```javascript
outer: for (let i = 0; i < 3; i++) {

  for (let j = 0; j < 3; j++) {

    let input = prompt(`Значение на координатах (${i},${j})`, '');

    // если пустая строка или Отмена, то выйти из обоих циклов
    if (!input) break outer; // (*)

    // сделать что-нибудь со значениями...
  }
}

console.log("Готово!")
```

Можно еще размещать метку на отдельной строке:

```javascript
outer:
for (let i = 0; i < 3; i++) { ... }
```

Метки можно также использовать с директивой `continue`: &#x20;

```javascript
outer: for (let i = 0; i < 3; i++) {
    for (let j = 0; j < 3; j++) {
      
      if (j == 1) continue outer; // (*)
      console.log(i, j)
      
    }
  }
  
  console.log('Готово!');
```

{% hint style="danger" %}
Директивы должны находится внутри блока кода
{% endhint %}
