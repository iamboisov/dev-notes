---
description: Главное о массивах
---

# Массивы

Для хранения упорядоченных коллекций существует массив, `Array`.

```javascript
let arr1 = new Array();
let arr2 = []; // Чаще всего используется
```

```javascript
let fruits = ["Яблоко", "Апельсин", "Слива"];
```

Элементы можно заменять, добавлять, удалять.

## Получение последнего элемента

```javascript
let fruits = ["Apple", "Orange", "Plum"];
console.log( fruits[fruits.length-1] ); // Plum

console.log( fruits[-1] ); // undefined
```

С помощью `at`:

```javascript
let fruits = ["Apple", "Orange", "Plum"];
// то же самое, что и fruits[fruits.length-1]
console.log( fruits.at(-1) ); // Plum
```

## Методы `pop/push`, `shift/unshift`

* `push` добавляет элемент в конец.
* `pop` удаляет последний элемент.
* `shift` удаляет элемент в начале, сдвигая очередь, так что второй элемент становится первым.
* `unshift` добавляет элемент в начало массива

Методы `push` и `unshift` могут добавлять сразу несколько элементов:

```javascript
let fruits = ["Яблоко"];

fruits.push("Апельсин", "Груша");
fruits.unshift("Ананас", "Лимон");

// ["Ананас", "Лимон", "Яблоко", "Апельсин", "Груша"]
console.log( fruits );
```

## Внутреннее устройство

Массив — особый подвид объектов. Квадратные скобки — это по сути синтаксис доступа по ключу `obj[key]`, где в роли `obj` у нас массив, а в качестве ключа — числовой индекс.

```javascript
let array = {
    0: "value1",
    1: "value2",
}

console.log(array[0]) // value1
```

{% hint style="info" %}
Массив следует считать особой структурой, позволяющей работать с _упорядоченными данными_.
{% endhint %}

{% hint style="info" %}
Для массивов возможен цикл `for...of`.
{% endhint %}

```javascript
let fruits = ["Яблоко", "Апельсин", "Слива"];

// проходит по значениям
for (let fruit of fruits) {
  console.log( fruit );
}
```

{% hint style="info" %}
Технически, так как массив является объектом, можно использовать и вариант `for..in`.&#x20;

В общем, не следует использовать цикл `for..in` для массивов, так как он оптимизирован под объекты, а не массивы.
{% endhint %}

```javascript
let arr = ["Яблоко", "Апельсин", "Груша"];

for (let key in arr) {
  console.log( arr[key] ); // Яблоко, Апельсин, Груша
}
```

Самый простой способ очистить массив – это `arr.length = 0;`. Длину массива можно перезаписать и вся лишняя часть будет стерта.

## Преобразование в примитивы

Массивы по-своему реализуют метод `toString`, который возвращает список элементов, разделённых запятыми.

```javascript
let arr = [1, 2, 3];

alert( arr ); // 1,2,3
alert( String(arr) === '1,2,3' ); // true
```

```javascript
alert( [] + 1 ); // "1"
alert( [1] + 1 ); // "11"
alert( [1,2] + 1 ); // "1,21"
```

## Сравнение массивов

Массивы не следует сравнивать с помощью `==`, так как у этого оператора нет специального подхода к массивам. Он работает с ними как с любыми другими объектами.

Правила:

* Два объекта равны друг другу `==` только в том случае, если они ссылаются на один и тот же объект.
* Если один из аргументов `==` является объектом, а другой – примитивом, то объект преобразуется в примитив.
* …За исключением `null` и `undefined`, которые равны `==` друг другу и ничему больше.

{% hint style="info" %}
Для сравнения двух массивов необходимо сравнить их элементы методом итерации с помощью цикла.
{% endhint %}
